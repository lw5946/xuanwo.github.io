<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mac on Xuanwo&#39;s Blog</title><link>https://xuanwo.io/tags/mac/</link><description>Recent content in Mac on Xuanwo&#39;s Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sun, 09 Aug 2015 01:30:51 +0000</lastBuildDate><atom:link href="https://xuanwo.io/tags/mac/index.xml" rel="self" type="application/rss+xml"/><item><title>史上最详细的虚拟机安装Mac OS X图文教程</title><link>https://xuanwo.io/2015/08/09/vmware-mac-os-x-intro/</link><pubDate>Sun, 09 Aug 2015 01:30:51 +0000</pubDate><guid>https://xuanwo.io/2015/08/09/vmware-mac-os-x-intro/</guid><description>&lt;p&gt;最近在电脑上配置了VMware，想要搭建一个Mac OS X的虚拟机以供体验。不过网上的资料过于老旧，版本更新不及时，导致我在配置的过程中遇到了无数的坑，折腾了一个晚上才配置成功。事后我总结了相关的经验和实践完成了这份教程，希望能够对大家有所益处~&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Update:
因为要用到&lt;a href=&#34;https://xuanwo.io/2015/10/22/vagrant-intro/&#34;&gt;Vagrant&lt;/a&gt;，所以又捣鼓了一番在VirtualBox上安装Mac OS X，同样踩了不少坑，相关的总结如下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h1 id=&#34;需要准备的东西&#34;&gt;需要准备的东西&lt;/h1&gt;
&lt;h2 id=&#34;懒人包镜像&#34;&gt;懒人包镜像&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://pan.baidu.com/s/1ntkw77V&#34;&gt;OS X 10.10 懒人包镜像 密码:a5cq&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;基于vmware&#34;&gt;基于Vmware&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://pan.baidu.com/s/1mgAazK8&#34;&gt;VMware 11.1.1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://pan.baidu.com/s/1i3nLNXr&#34;&gt;Unlocker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;基于virtualbox&#34;&gt;基于VirtualBox&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.virtualbox.org/wiki/Downloads&#34;&gt;VirtualBox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;虚拟机环境配置&#34;&gt;虚拟机环境配置&lt;/h1&gt;
&lt;h2 id=&#34;配置vmware&#34;&gt;配置VMware&lt;/h2&gt;
&lt;h3 id=&#34;安装并激活vmware&#34;&gt;安装并激活VMware&lt;/h3&gt;
&lt;p&gt;首先自然是安装好VMware，然后是一串奇怪的字符序列：&lt;code&gt;1F04Z-6D111-7Z029-AV0Q4-3AEH8&lt;/code&gt;，我也不知道怎么用（&amp;gt;.&amp;lt;）。&lt;/p&gt;
&lt;h3 id=&#34;使用unlocker解锁vmware&#34;&gt;使用Unlocker解锁VMware&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;VMware Workstation并不支持Mac OS X的安装，只有VMware Fusion（也就是Mac平台上的VMware）才支持。于是有大神推出了这个解锁补丁，安装好这个补丁之后，VMware便可以支持OS X 的虚拟机安装。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下载并解压Unlocker，右击使用管理员权限打开&lt;code&gt;win-install.cmd&lt;/code&gt;，当任务执行完毕后，窗口会自动退出。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-unlocker.png&#34; alt=&#34;运行Unlocker&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这时候再打开VMware，你将会看到&lt;code&gt;Apple Mac OX X&lt;/code&gt;的字样，说明你已经成功解锁了Mac OS X的安装功能。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-appear.png&#34; alt=&#34;可以选择Apple Mac OS X了&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;基于vmware配置mac-os-x虚拟机&#34;&gt;基于Vmware配置Mac OS X虚拟机&lt;/h2&gt;
&lt;h3 id=&#34;启动新建虚拟机向导&#34;&gt;启动新建虚拟机向导&lt;/h3&gt;
&lt;p&gt;没啥好说的，选择&lt;code&gt;典型&lt;/code&gt;。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-1.png&#34; alt=&#34;配置类型选择&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;安装客户机操作系统&#34;&gt;安装客户机操作系统&lt;/h3&gt;
&lt;p&gt;因为我们还需要一些特别的配置，所以这里我们选择&lt;code&gt;稍后安装操作系统&lt;/code&gt;。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-2.png&#34; alt=&#34;安装客户机操作系统&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;选择客户机操作系统&#34;&gt;选择客户机操作系统&lt;/h3&gt;
&lt;p&gt;这里我们选择&lt;code&gt;Apple Mac OS X&lt;/code&gt;，版本就选择最新的&lt;code&gt;OS X 10.10&lt;/code&gt;，其实这个版本对我们的安装没啥大的影响，主要是涉及到一些硬件兼容性的问题，无须在意。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-3.png&#34; alt=&#34;选择客户机操作系统&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;命名虚拟机&#34;&gt;命名虚拟机&lt;/h3&gt;
&lt;p&gt;在这里我们需要设定虚拟机的名称以及位置，这里就按照自己的喜好设定吧。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-4.png&#34; alt=&#34;命名虚拟机&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;指定磁盘容量&#34;&gt;指定磁盘容量&lt;/h3&gt;
&lt;p&gt;这里我们需要指定Mac虚拟机最大占用的空间大小，VMware推荐的是40G，如果空间够的话，可以设置的更大一些。然后下面的设置可以根据自己的喜好来，如果对性能比较注重，可以使用存储为单个文件的方式。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-5.png&#34; alt=&#34;指定磁盘容量&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;开始创建虚拟机&#34;&gt;开始创建虚拟机&lt;/h3&gt;
&lt;p&gt;到这里，Mac虚拟机的一些简单设置就已经全部完成了，点击完成，我们进入到下一个阶段。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-apple-6.png&#34; alt=&#34;开始创建虚拟机&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;虚拟机故障排除&#34;&gt;虚拟机故障排除&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;选择cdr镜像&lt;/strong&gt;
在新弹出的页面中选择&lt;code&gt;编辑虚拟机设置&lt;/code&gt;，然后点击&lt;code&gt;CD/DVD(SATA)&lt;/code&gt;
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-error-1.png&#34; alt=&#34;虚拟机设置&#34; /&gt;
选择&lt;code&gt;浏览&lt;/code&gt;，在弹出的&lt;code&gt;浏览ISO映像&lt;/code&gt;中，点击右下角的&lt;code&gt;CD-ROM 映像(.iso)&lt;/code&gt;，切换成&lt;code&gt;所有文件&lt;/code&gt;，然后就可以正常打开我们的cdr镜像了。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/vmware-error-2.png&#34; alt=&#34;切换所有文件&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;修复无法正常引导&lt;/strong&gt;
即使前面的操作全部正确，我们依然无法正常启动我们的虚拟机。为了可以正常引导，我们还需要修改我们虚拟机的vmx文件。
进入我们之前设定的虚拟机位置，在文件夹中可以找到&lt;code&gt;xxxxx.vmx&lt;/code&gt;这样的文件，右击选择打开方式，使用记事本打开。在&lt;code&gt;smc.present = &amp;quot;TRUE&amp;quot;&lt;/code&gt;后面添加&lt;code&gt;smc.version = 0&lt;/code&gt;，保存之后退出，便可以解决。&lt;/p&gt;
&lt;h2 id=&#34;配置virtualbox&#34;&gt;配置VirtualBox&lt;/h2&gt;
&lt;h3 id=&#34;安装virtualbox&#34;&gt;安装VirtualBox&lt;/h3&gt;
&lt;p&gt;安装没有什么坑点，一路Next即可&lt;/p&gt;
&lt;h3 id=&#34;hack一下virtualbox&#34;&gt;Hack一下VirtualBox&lt;/h3&gt;
&lt;p&gt;VirtualBox原生支持Mac OS X的安装，但是只有在系统环境为Mac的环境下，才能正常引导，因为在非Mac环境下，安装程序会检测出我们的CPU不是已经识别的型号，从而拒绝进一步的安装。为此，我们需要执行以下命令来Hack：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;VBoxManage setextradata &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#34;yourvboxname&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#34;VBoxInternal/Devices/smc/0/Config/DeviceKey&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#34;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;如果VBoxManage没有被加入PATH的话，可能会提示VBoxManage不是可执行的命令。只需要进入VirtualBox的安装目录下&lt;code&gt;Shift+右键&lt;/code&gt;在当前目录打开命令行执行即可~&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;原理非常简单：利用VBox的命令行工具在虚拟机的DeviceKey中加入Apple的声明即可。理论上来讲，这应该是侵犯苹果权益的行为，所以请不要用于商业行为，后果自负~&lt;/p&gt;
&lt;h1 id=&#34;开始安装mac-os-x&#34;&gt;开始安装Mac OS X&lt;/h1&gt;
&lt;p&gt;经过如上配置之后，我们终于可以进入到Mac OS X的安装界面了~&lt;/p&gt;
&lt;h2 id=&#34;加载界面&#34;&gt;加载界面&lt;/h2&gt;
&lt;p&gt;首先附上酷炫的加载界面，我们什么都不用做，静静地等到它加载完成即可。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-1.png&#34; alt=&#34;加载界面&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;语言选择&#34;&gt;语言选择&lt;/h2&gt;
&lt;p&gt;然后是语言选择界面，选择自己喜欢的语言吧，不想折腾自己的话就老老实实简体中文吧~
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-2.png&#34; alt=&#34;语言选择&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;硬盘分区&#34;&gt;硬盘分区&lt;/h2&gt;
&lt;p&gt;安装之前，我们必须要对磁盘进行分区。首先我们点击安装界面最上方的&lt;code&gt;实用工具&lt;/code&gt;，然后选择&lt;code&gt;磁盘工具&lt;/code&gt;，进入分区管理界面。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-3.png&#34; alt=&#34;选择实用工具&#34; /&gt;
我们首先点击左侧列出的磁盘，然后在右侧选择&lt;code&gt;分区&lt;/code&gt;，空间也不大，选择一个分区即可。可以自己设定这个磁盘的名字，格式化类型默认即可，无需改动。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-4.png&#34; alt=&#34;选择分区&#34; /&gt;
配置完成后，我们点击左上角红色的叉叉退出磁盘工具，点击继续，开始我们的安装。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-5.png&#34; alt=&#34;正式开始安装&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;许可协议&#34;&gt;许可协议&lt;/h2&gt;
&lt;p&gt;作为一家有操守的大公司，该推的锅肯定是要推干净，于是有了这份许可协议。还有一个二次确认，如果拒绝，安装就结束了= =，不过反正是虚拟机，我们一路同意即可。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-6.png&#34; alt=&#34;阅读许可协议&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;选择安装磁盘&#34;&gt;选择安装磁盘&lt;/h2&gt;
&lt;p&gt;这里我们需要选择前面已经设定好的磁盘，选中之后点击继续即可。
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-7.png&#34; alt=&#34;选择安装磁盘&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;默默等待&#34;&gt;默默等待&lt;/h2&gt;
&lt;p&gt;然后就到了真正的安装过程了，这个过程中我们需要做的只有等待。出去溜达两圈，或者搓一把炉石？
&lt;img src=&#34;https://xuanwo.io/imgs/opinion/apple-install-8.png&#34; alt=&#34;等待安装完成&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;坑点总结&#34;&gt;坑点总结&lt;/h1&gt;
&lt;h2 id=&#34;使用dmg镜像提取&#34;&gt;使用DMG镜像提取&lt;/h2&gt;
&lt;p&gt;网上的教程大多是使用DMG镜像提取，需要用到UltraISO这款软件。但是不知道是否为版本差异还是我下载的镜像有问题，我每次试图提取出安装镜像的时候，都出现了进度超过100%，剩余时间为负的情况。尝试了大概四五个镜像以及多个UltraISO版本均宣告失败。&lt;/p&gt;
&lt;h2 id=&#34;vmx文件修改&#34;&gt;VMX文件修改&lt;/h2&gt;
&lt;p&gt;在VMX文件未修改的情况下，VMware无法正常加载相关的镜像，这也是一个非常恼人的坑点。所以在新建完虚拟机之后一定要记得修改VMX文件，当然也可以被坑了一次之后再来修改，233。&lt;/p&gt;
&lt;h1 id=&#34;更新日志&#34;&gt;更新日志&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;2015年08月09日 初步完成教程&lt;/li&gt;
&lt;li&gt;2015年10月31日 更换懒人包下载链接，请在页面上直接点击~&lt;/li&gt;
&lt;li&gt;2015年11月02日 加入了VirtualBox的相关配置&lt;/li&gt;
&lt;li&gt;2015年11月03日 修复了镜像链接错误，新增了10.11的懒人包镜像&lt;/li&gt;
&lt;li&gt;2015年11月09日 镜像下载地址被迅雷抓取了，流量持续血崩，更换为百度云&lt;/li&gt;
&lt;li&gt;2015年11月16日 据读者反馈10.11懒人包不可用，已移除&lt;/li&gt;
&lt;li&gt;2016年02月26日 由于博主系统已切换至Ununtu Gnome，缺乏进一步维护的条件，故本文不再更新，相关问题也不再进行回复，敬请谅解。&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>